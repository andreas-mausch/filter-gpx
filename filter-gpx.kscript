#!/usr/bin/env kscript

@file:DependsOn("io.jenetics:jpx:1.5.2")

import io.jenetics.jpx.GPX

val track = GPX.reader(GPX.Version.V10)
               .read("gpx.xml")
               .tracks
               .filter { it.name.isPresent() && it.name.get() == "SM-G973F" }

val points = track.flatMap { it.segments }.flatMap { it.points }
val groupedByDate = points.groupBy { it.time.get().toLocalDate() }

println("groupedByDate: " + groupedByDate.keys)
